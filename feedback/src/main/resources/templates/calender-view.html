<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Course Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.9.0/main.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.9.0/main.js"></script>
</head>
<body>

<!-- Navigation Bar -->
<div th:replace="~{fragments/navbar :: navbar}"></div>
<br/><br/>

<!-- Main Container -->
<div class="container">

    <h2>All Register Courses Cadendar View</h2>
    <p></p>
    <div class="card p-3 mb-4" >
        <div class="p-2" id="calendar" th:attr="data-courses=${courses}"></div>
    </div>
</div>

<script>
        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');
            var coursesData = JSON.parse(calendarEl.getAttribute('data-courses'));

            var events = coursesData.map(function (course) {
                return {
                    title: course.title,
                    start: course.startDate, // Add time to make it a valid datetime
                    end: course.endDate,
                };
            });

            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                events: events,
            });

            calendar.render();
        });
</script>

<!-- Bootstrap JS bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>
